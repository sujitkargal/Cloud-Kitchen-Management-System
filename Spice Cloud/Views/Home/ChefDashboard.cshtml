@{
    ViewData["Title"] = "Chef Dashboard";
    Layout = "~/Views/Shared/_ChefLayout.cshtml";
}


<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">

<div class="container mt-5">

   
    <div class="text-center mb-5">
        <h1 class="display-4 fw-bold">Hello, Chef @TempData["ChefName"]  <i class="fa-solid fa-kitchen-set"></i></h1>
        <p class="lead text-secondary">Manage your kitchen efficiently.</p>
    </div>
>
    <div class="row row-cols-1 row-cols-md-4 g-4">

        <!-- Add Dish -->
        <div class="col">
            <div class="card h-100 shadow-lg border-0 hover-scale text-center">
                <div class="card-body d-flex flex-column justify-content-center">
                    <i class="fas fa-plus-circle fa-3x text-success mb-3"></i>
                    <h5 class="card-title fw-bold">Add Dish</h5>
                    <p class="card-text text-muted">Create new dishes in your menu.</p>
                    <a href="@Url.Action("AddDish", "Home")" class="btn btn-success mt-auto">Go</a>
                </div>
            </div>
        </div>

        <!-- Update Dish -->
        <div class="col">
            <div class="card h-100 shadow-lg border-0 hover-scale text-center">
                <div class="card-body d-flex flex-column justify-content-center">
                    <i class="fas fa-pen-square fa-3x text-primary mb-3"></i>
                    <h5 class="card-title fw-bold">Update Dish</h5>
                    <p class="card-text text-muted">Edit existing menu items.</p>
                    <a href="@Url.Action("ChefDishes", "Home")" class="btn btn-primary mt-auto">Go</a>
                </div>
            </div>
        </div>

        <!-- Pending Orders -->
        <div class="col">
            <div class="card h-100 shadow-lg border-0 hover-scale text-center position-relative">
                <div class="card-body d-flex flex-column justify-content-center">
                    <i class="fas fa-clock fa-3x text-warning mb-3"></i>
                    <h5 class="card-title fw-bold">Pending Orders</h5>
                    <p class="card-text text-muted">View orders waiting for preparation.</p>
                    <a href="@Url.Action("ChefOrders", "Home")" class="btn btn-warning mt-auto">Go</a>
                </div>
                <span id="pendingBadge" class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger" style="display:none;">
                    0
                </span>
            </div>
        </div>

        <!-- Completed Orders -->
        <div class="col">
            <div class="card h-100 shadow-lg border-0 hover-scale text-center">
                <div class="card-body d-flex flex-column justify-content-center">
                    <i class="fas fa-check-circle fa-3x text-success mb-3"></i>
                    <h5 class="card-title fw-bold">Completed Orders</h5>
                    <p class="card-text text-muted">Track finished orders.</p>
                    <a href="@Url.Action("CompletedOrders", "Order")" class="btn btn-success mt-auto">Go</a>
                </div>
            </div>
        </div>

    </div>

    <!-- Second Row -->
    <div class="row row-cols-1 row-cols-md-4 g-4 mt-4">

        <!-- View My Dishes -->
        <div class="col">
            <div class="card h-100 shadow-lg border-0 hover-scale text-center">
                <div class="card-body d-flex flex-column justify-content-center">
                    <i class="fas fa-utensils fa-3x text-info mb-3"></i>
                    <h5 class="card-title fw-bold">View My Dishes</h5>
                    <p class="card-text text-muted">Check all dishes you have added.</p>
                    <a href="@Url.Action("ChefDish", "Home")" class="btn btn-info mt-auto">Go</a>
                </div>
            </div>
        </div>

        @* <!-- Reports -->
        <div class="col">
            <div class="card h-100 shadow-lg border-0 hover-scale text-center">
                <div class="card-body d-flex flex-column justify-content-center">
                    <i class="fas fa-chart-line fa-3x text-secondary mb-3"></i>
                    <h5 class="card-title fw-bold">Reports</h5>
                    <p class="card-text text-muted">View kitchen performance reports.</p>
                    <a href="@Url.Action("Reports", "Home")" class="btn btn-secondary mt-auto">Go</a>
                </div>
            </div>
        </div> *@

        <!-- Settings -->
        <div class="col">
            <div class="card h-100 shadow-lg border-0 hover-scale text-center">
                <div class="card-body d-flex flex-column justify-content-center">
                    <i class="fas fa-cog fa-3x text-dark mb-3"></i>
                    <h5 class="card-title fw-bold">Settings</h5>
                    <p class="card-text text-muted">Manage profile and preferences.</p>
                    <a href="@Url.Action("Settings", "Home")" class="btn btn-dark mt-auto">Go</a>
                </div>
            </div>
        </div>

        <!-- Logout -->
        <div class="col">
            <div class="card h-100 shadow-lg border-0 hover-scale text-center">
                <div class="card-body d-flex flex-column justify-content-center">
                    <i class="fas fa-sign-out-alt fa-3x text-danger mb-3"></i>
                    <h5 class="card-title fw-bold">Logout</h5>
                    <p class="card-text text-muted">Sign out from your account.</p>
                    <a href="@Url.Action("ChefLogout", "Home")" class="btn btn-danger mt-auto">Logout</a>
                </div>
            </div>
        </div>

    </div>
</div>

<!-- Custom CSS -->
<style>
    .hover-scale:hover {
        transform: translateY(-8px);
        transition: all 0.3s ease-in-out;
        box-shadow: 0 0.5rem 1rem rgba(0,0,0,0.15) !important;
    }

    .card {
        border-radius: 1rem;
    }
</style>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        fetch('@Url.Action("GetChefDashboardCounts", "Home")')
            .then(response => response.json())
            .then(data => {
                const pendingBadge = document.getElementById("pendingBadge");
                pendingBadge.textContent = data.pendingOrders;
                pendingBadge.style.display = data.pendingOrders > 0 ? 'inline-block' : 'none';
            })
            .catch(err => console.error("Error fetching dashboard counts:", err));
    });
</script>
